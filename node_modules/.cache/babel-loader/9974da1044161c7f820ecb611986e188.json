{"ast":null,"code":"import axios from 'axios';\nimport * as actionTypes from './actionTypes'; //import config from '../../config';\n//Hide API_KEYS\n//let API_KEY = config.API_KEY;\n\nvar API_KEY = 'W8BRD3J2mSsN3CNKdKXCVKFjJkoVa8kI';\nexport var searchStart = function searchStart() {\n  return {\n    type: actionTypes.SEARCH_START\n  };\n};\nexport var searchSuccess = function searchSuccess(data, query) {\n  return {\n    type: actionTypes.SEARCH_SUCCESS,\n    results: data,\n    query: query\n  };\n};\nexport var searchFail = function searchFail(error) {\n  return {\n    type: actionTypes.SEARCH_FAIL,\n    error: error\n  };\n};\nexport var setSearchRedirectPath = function setSearchRedirectPath(path) {\n  return {\n    type: actionTypes.SET_SEARCH_REDIRECT_PATH,\n    path: path\n  };\n};\nexport var search = function search(searchTerm) {\n  var query = encodeURIComponent(searchTerm).replace(/%20/g, '+');\n  return function (dispatch) {\n    dispatch(searchStart());\n    var url = 'https://api.giphy.com/v1/gifs/search?q=' + query + '&api_key=' + API_KEY + '&limit=40';\n    axios.get(url).then(function (response) {\n      console.log('Search Action:', response.data.data);\n      dispatch(searchSuccess(response.data.data, query));\n    }).catch(function (err) {\n      dispatch(searchFail(err.response.data.error));\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Afa\\Desktop\\npm test\\node_modules\\gipsy\\src\\store\\actions\\search.js"],"names":["axios","actionTypes","API_KEY","searchStart","type","SEARCH_START","searchSuccess","data","query","SEARCH_SUCCESS","results","searchFail","error","SEARCH_FAIL","setSearchRedirectPath","path","SET_SEARCH_REDIRECT_PATH","search","searchTerm","encodeURIComponent","replace","dispatch","url","get","then","response","console","log","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B,C,CACA;AAEA;AACA;;AACA,IAAIC,OAAO,GAAG,kCAAd;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC7B,SAAO;AACHC,IAAAA,IAAI,EAAEH,WAAW,CAACI;AADf,GAAP;AAGH,CAJM;AAMP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAEC,IAAF,EAAQC,KAAR,EAAmB;AAC5C,SAAO;AACHJ,IAAAA,IAAI,EAAEH,WAAW,CAACQ,cADf;AAEHC,IAAAA,OAAO,EAAEH,IAFN;AAGHC,IAAAA,KAAK,EAAEA;AAHJ,GAAP;AAKH,CANM;AAQP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AACjC,SAAO;AACHR,IAAAA,IAAI,EAAEH,WAAW,CAACY,WADf;AAEHD,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH,CALM;AAMP,OAAO,IAAME,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,IAAD,EAAU;AAC3C,SAAO;AACHX,IAAAA,IAAI,EAAEH,WAAW,CAACe,wBADf;AAEHD,IAAAA,IAAI,EAAEA;AAFH,GAAP;AAIH,CALM;AAMP,OAAO,IAAME,MAAM,GAAG,SAATA,MAAS,CAAEC,UAAF,EAAkB;AACpC,MAAIV,KAAK,GAAGW,kBAAkB,CAACD,UAAD,CAAlB,CAA+BE,OAA/B,CAAuC,MAAvC,EAA8C,GAA9C,CAAZ;AACA,SAAO,UAAAC,QAAQ,EAAI;AACfA,IAAAA,QAAQ,CAAClB,WAAW,EAAZ,CAAR;AACA,QAAImB,GAAG,GAAG,4CAA4Cd,KAA5C,GAAoD,WAApD,GAAkEN,OAAlE,GAA4E,WAAtF;AACAF,IAAAA,KAAK,CAACuB,GAAN,CAAUD,GAAV,EACKE,IADL,CACU,UAAAC,QAAQ,EAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,QAAQ,CAAClB,IAAT,CAAcA,IAA5C;AACAc,MAAAA,QAAQ,CAACf,aAAa,CAACmB,QAAQ,CAAClB,IAAT,CAAcA,IAAf,EAAqBC,KAArB,CAAd,CAAR;AACH,KAJL,EAKKoB,KALL,CAKW,UAAAC,GAAG,EAAI;AACVR,MAAAA,QAAQ,CAACV,UAAU,CAACkB,GAAG,CAACJ,QAAJ,CAAalB,IAAb,CAAkBK,KAAnB,CAAX,CAAR;AACH,KAPL;AAQH,GAXD;AAYH,CAdM","sourcesContent":["import axios from 'axios';\r\nimport * as actionTypes from './actionTypes';\r\n//import config from '../../config';\r\n\r\n//Hide API_KEYS\r\n//let API_KEY = config.API_KEY;\r\nlet API_KEY = 'W8BRD3J2mSsN3CNKdKXCVKFjJkoVa8kI';\r\n\r\nexport const searchStart = () => {\r\n    return {\r\n        type: actionTypes.SEARCH_START\r\n    };\r\n};\r\n\r\nexport const searchSuccess = ( data, query ) => {\r\n    return {\r\n        type: actionTypes.SEARCH_SUCCESS,\r\n        results: data,\r\n        query: query\r\n    };\r\n};\r\n\r\nexport const searchFail = (error) => {\r\n    return {\r\n        type: actionTypes.SEARCH_FAIL,\r\n        error: error\r\n    };\r\n};\r\nexport const setSearchRedirectPath = (path) => {\r\n    return {\r\n        type: actionTypes.SET_SEARCH_REDIRECT_PATH,\r\n        path: path\r\n    }\r\n};\r\nexport const search = ( searchTerm ) => {\r\n    let query = encodeURIComponent(searchTerm).replace(/%20/g,'+');\r\n    return dispatch => {\r\n        dispatch(searchStart());\r\n        let url = 'https://api.giphy.com/v1/gifs/search?q=' + query + '&api_key=' + API_KEY + '&limit=40';\r\n        axios.get(url)\r\n            .then(response => {\r\n                console.log('Search Action:', response.data.data);\r\n                dispatch(searchSuccess(response.data.data, query));\r\n            })\r\n            .catch(err => {\r\n                dispatch(searchFail(err.response.data.error));\r\n            });\r\n    };\r\n};\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}