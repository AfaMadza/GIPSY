{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport axios from '../../axios-favorites';\nimport * as actionTypes from './actionTypes';\nexport var faveStart = function faveStart() {\n  return {\n    type: actionTypes.FAVE_START\n  };\n};\nexport var faveSuccess = function faveSuccess(id, faveData) {\n  return {\n    type: actionTypes.FAVE_SUCCESS,\n    faveId: id,\n    faveData: faveData\n  };\n};\nexport var faveFail = function faveFail(error) {\n  return {\n    type: actionTypes.FAVE_FAIL,\n    error: error\n  };\n};\nexport var addFavorite = function addFavorite(faveData, token) {\n  return function (dispatch) {\n    dispatch(faveStart());\n    axios.post('/favorites.json?auth=' + token, faveData).then(function (response) {\n      console.log(response.data);\n      dispatch(faveSuccess(response.data.name, faveData));\n    }).catch(function (error) {\n      dispatch(faveFail(error));\n    });\n  };\n};\nexport var fetchFavesSuccess = function fetchFavesSuccess(favorites) {\n  return {\n    type: actionTypes.FETCH_FAVES_SUCCESS,\n    favorites: favorites\n  };\n};\nexport var fetchFavesFail = function fetchFavesFail(error) {\n  return {\n    type: actionTypes.FETCH_FAVES_FAIL,\n    error: error\n  };\n};\nexport var fetchFavesStart = function fetchFavesStart() {\n  return {\n    type: actionTypes.FETCH_FAVES_START\n  };\n};\nexport var fetchFavorites = function fetchFavorites(token, userId) {\n  return function (dispatch) {\n    //const  queryParams = '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"';\n    var queryParams = '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"';\n    dispatch(fetchFavesStart());\n    axios.get('/favorites.json' + queryParams).then(function (res) {\n      console.log('FetchFave Res:', res);\n      var fetchedFaves = [];\n\n      for (var key in res.data) {\n        fetchedFaves.push(_objectSpread({}, res.data[key], {\n          id: key\n        }));\n      }\n\n      dispatch(fetchFavesSuccess(fetchedFaves));\n    }).catch(function (err) {\n      dispatch(fetchFavesFail(err));\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\Afa\\Desktop\\npm test\\node_modules\\gipsy\\src\\store\\actions\\favorites.js"],"names":["axios","actionTypes","faveStart","type","FAVE_START","faveSuccess","id","faveData","FAVE_SUCCESS","faveId","faveFail","error","FAVE_FAIL","addFavorite","token","dispatch","post","then","response","console","log","data","name","catch","fetchFavesSuccess","favorites","FETCH_FAVES_SUCCESS","fetchFavesFail","FETCH_FAVES_FAIL","fetchFavesStart","FETCH_FAVES_START","fetchFavorites","userId","queryParams","get","res","fetchedFaves","key","push","err"],"mappings":"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","sourcesContent":["import axios from '../../axios-favorites';\r\nimport * as actionTypes from './actionTypes';\r\n\r\nexport const faveStart = () => {\r\n    return {\r\n        type: actionTypes.FAVE_START\r\n    };\r\n};\r\n\r\nexport const faveSuccess = ( id, faveData ) => {\r\n    return {\r\n        type: actionTypes.FAVE_SUCCESS,\r\n        faveId: id,\r\n        faveData: faveData\r\n    };\r\n};\r\n\r\nexport const faveFail = (error) => {\r\n    return {\r\n        type: actionTypes.FAVE_FAIL,\r\n        error: error\r\n    };\r\n};\r\n\r\nexport const addFavorite = ( faveData, token) => {\r\n    return dispatch => {\r\n        dispatch( faveStart() );\r\n        axios.post( '/favorites.json?auth=' + token, faveData )\r\n            .then( response => {\r\n                    console.log( response.data );\r\n                    dispatch( faveSuccess( response.data.name, faveData ) );\r\n            } )\r\n            .catch( error => {\r\n                dispatch( faveFail( error ) );\r\n            } );\r\n    };\r\n};\r\n\r\n\r\nexport const fetchFavesSuccess = ( favorites ) => {\r\n    return {\r\n        type: actionTypes.FETCH_FAVES_SUCCESS,\r\n        favorites: favorites\r\n    };\r\n};\r\n\r\nexport const fetchFavesFail = ( error ) => {\r\n    return {\r\n        type: actionTypes.FETCH_FAVES_FAIL,\r\n        error: error\r\n    };\r\n};\r\n\r\nexport const fetchFavesStart = () => {\r\n    return {\r\n        type: actionTypes.FETCH_FAVES_START\r\n    };\r\n};\r\n\r\nexport const fetchFavorites = (token, userId) => {\r\n    return dispatch => {\r\n        //const  queryParams = '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"';\r\n        const  queryParams = '?auth=' + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"';\r\n        dispatch(fetchFavesStart());\r\n        axios.get( '/favorites.json' + queryParams)\r\n            .then( res => {\r\n                console.log('FetchFave Res:', res)\r\n                const fetchedFaves = [];\r\n                for ( let key in res.data ) {\r\n                    fetchedFaves.push( {\r\n                        ...res.data[key],\r\n                        id: key\r\n                    } );\r\n                }\r\n                dispatch(fetchFavesSuccess(fetchedFaves));\r\n            } )\r\n            .catch( err => {\r\n                dispatch(fetchFavesFail(err));\r\n            } );\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}