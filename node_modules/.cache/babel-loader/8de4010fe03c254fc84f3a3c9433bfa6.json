{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Afa\\\\Desktop\\\\npm test\\\\node_modules\\\\gipsy\\\\src\\\\components\\\\Auth.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport EmailIcon from '@material-ui/icons/EmailOutlined';\nimport LockIcon from '@material-ui/icons/LockOutlined';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport Input from '@material-ui/core/Input'; //import AuthBackground from './AuthBackground';\n\nimport * as actions from '../store/actions/index';\nimport { Container, Row, Col, Button, Fa, Modal, ModalBody, ModalFooter } from 'mdbreact';\n\nvar styles = function styles(theme) {\n  return {\n    padd: {\n      paddingTop: '70px !important'\n    },\n    search: _defineProperty({\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.white, 0.25)\n      },\n      marginRight: theme.spacing.unit * 2,\n      marginLeft: theme.spacing.unit * 2,\n      width: '100%'\n    }, theme.breakpoints.up('sm'), {\n      marginLeft: theme.spacing.unit * 3,\n      width: 'auto'\n    }),\n    searchIcon: {\n      width: theme.spacing.unit * 9,\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    inputRoot: {\n      color: 'white',\n      width: '100%'\n    },\n    inputInput: _defineProperty({\n      paddingTop: theme.spacing.unit,\n      paddingRight: theme.spacing.unit,\n      paddingBottom: theme.spacing.unit,\n      paddingLeft: theme.spacing.unit * 10,\n      transition: theme.transitions.create('width'),\n      width: '100%'\n    }, theme.breakpoints.up('md'), {\n      width: 200\n    }),\n    modalContent: {\n      backgroundColor: '#3f51b5'\n    }\n  };\n};\n\nvar Auth =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Auth, _React$Component);\n\n  function Auth() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Auth);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Auth)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      controls: {\n        email: {\n          elementType: 'input',\n          value: '',\n          validation: {\n            required: true,\n            isEmail: true\n          },\n          valid: false,\n          touched: false\n        },\n        password: {\n          elementType: 'input',\n          value: '',\n          validation: {\n            required: true,\n            minLength: 6\n          },\n          valid: false,\n          touched: false\n        }\n      },\n      isSignup: true,\n      modal: false\n    };\n\n    _this.inputChangedHandler = function (event, controlName) {\n      var updatedControls = _objectSpread({}, _this.state.controls, _defineProperty({}, controlName, _objectSpread({}, _this.state.controls[controlName], {\n        value: event.target.value,\n        valid: _this.checkValidity(event.target.value, _this.state.controls[controlName].validation),\n        touched: true\n      })));\n\n      _this.setState({\n        controls: updatedControls\n      });\n    };\n\n    _this.submitHandler = function (event) {\n      event.preventDefault();\n\n      _this.props.onAuth(_this.state.controls.email.value, _this.state.controls.password.value, _this.state.isSignup);\n    };\n\n    _this.switchAuthModeHandler = function () {\n      _this.setState(function (prevState) {\n        return {\n          isSignup: !prevState.isSignup\n        };\n      });\n    };\n\n    _this.toggle = function () {\n      _this.setState({\n        modal: !_this.state.modal\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Auth, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.requestDelivery && this.props.authRedirectPath !== '/') {\n        this.props.onSetAuthRedirectpath();\n      }\n    }\n  }, {\n    key: \"checkValidity\",\n    value: function checkValidity(value, rules) {\n      var isValid = true;\n\n      if (!rules) {\n        return true;\n      }\n\n      if (rules.required) {\n        isValid = value.trim() !== '' && isValid;\n      }\n\n      if (rules.minLength) {\n        isValid = value.length >= rules.minLength && isValid;\n      }\n\n      if (rules.maxLength) {\n        isValid = value.length <= rules.maxLength && isValid;\n      }\n\n      if (rules.isEmail) {\n        var pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n        isValid = pattern.test(value) && isValid;\n      }\n\n      if (rules.isNumeric) {\n        var _pattern = /^\\d+$/;\n        isValid = _pattern.test(value) && isValid;\n      }\n\n      return isValid;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var form = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.searchIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(EmailIcon, {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), React.createElement(Input, {\n        placeholder: \"Email\",\n        value: this.state.controls.email.value //invalid={!this.state.controls.email.valid}\n        ,\n        shoulvalidate: this.state.controls.email.validation //touched={this.state.controls.email.touched}\n        ,\n        onChange: function onChange(event) {\n          return _this2.inputChangedHandler(event, 'email');\n        },\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classes.search,\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.searchIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(LockIcon, {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      })), React.createElement(Input, {\n        placeholder: \"Password\",\n        value: this.state.controls.password.value //invalid={!this.state.controls.password.valid}\n        ,\n        shouldvalidate: this.state.controls.password.validation //touched={this.state.controls.password.touched}\n        ,\n        onChange: function onChange(event) {\n          return _this2.inputChangedHandler(event, 'password');\n        },\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }))); // if (this.props.loading) {\n      //     form = <Spinner />\n      // }\n\n      var errorMessage = null;\n\n      if (this.props.error) {\n        errorMessage = React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, this.props.error.message);\n      }\n\n      var authRedirect = null;\n\n      if (this.props.isAuthenticated) {\n        authRedirect = React.createElement(Redirect, {\n          to: this.props.authRedirectPath,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Container, {\n        className: \"d-flex justify-content-center\",\n        style: {\n          paddingTop: '250px',\n          width: '100vw',\n          height: '100vh',\n          backgroundImage: \"url(require('../assets/images/AuthBackground.png')) !important\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"info\",\n        onClick: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Get Started\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        className: classes.padd + ' cascading-modal',\n        isOpen: this.state.modal,\n        toggle: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header primary-color white-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(Fa, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), \" \", this.props.error ? errorMessage : 'Welcome!', \" \"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        onClick: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"\\xD7\"))), authRedirect, React.createElement(ModalBody, {\n        className: classes.modalContent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, form, React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.submitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Submit\"), ' ')), React.createElement(ModalFooter, {\n        className: classes.modalContent,\n        style: {\n          display: 'inline-table'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"Close\"), ' ', React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.switchAuthModeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, this.state.isSignup ? 'Log In' : 'Sign Up')))))));\n    }\n  }]);\n\n  return Auth;\n}(React.Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    isAuthenticated: state.auth.token !== null,\n    // requestDelivery: state.requestBuilder.requesting,\n    authRedirectPath: state.auth.authRedirectPath\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onAuth: function onAuth(email, password, isSignup) {\n      return dispatch(actions.auth(email, password, isSignup));\n    },\n    onSetAuthRedirectpath: function onSetAuthRedirectpath() {\n      return dispatch(actions.setAuthRedirectPath('/trending'));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Auth));","map":{"version":3,"sources":["C:\\Users\\Afa\\Desktop\\npm test\\node_modules\\gipsy\\src\\components\\Auth.js"],"names":["React","connect","Redirect","withStyles","EmailIcon","LockIcon","fade","Input","actions","Container","Row","Col","Button","Fa","Modal","ModalBody","ModalFooter","styles","theme","padd","paddingTop","search","position","borderRadius","shape","backgroundColor","palette","common","white","marginRight","spacing","unit","marginLeft","width","breakpoints","up","searchIcon","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","modalContent","Auth","state","controls","email","elementType","value","validation","required","isEmail","valid","touched","password","minLength","isSignup","modal","inputChangedHandler","event","controlName","updatedControls","target","checkValidity","setState","submitHandler","preventDefault","props","onAuth","switchAuthModeHandler","prevState","toggle","requestDelivery","authRedirectPath","onSetAuthRedirectpath","rules","isValid","trim","length","maxLength","pattern","test","isNumeric","classes","form","root","input","marginTop","errorMessage","error","message","authRedirect","isAuthenticated","backgroundImage","Component","mapStateToProps","loading","auth","token","mapDispatchToProps","dispatch","setAuthRedirectPath"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport EmailIcon from '@material-ui/icons/EmailOutlined';\r\nimport LockIcon from '@material-ui/icons/LockOutlined';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport Input from '@material-ui/core/Input';\r\n//import AuthBackground from './AuthBackground';\r\nimport * as actions from '../store/actions/index';\r\nimport { Container, Row, Col, Button, Fa, Modal, ModalBody, ModalFooter } from 'mdbreact';\r\n\r\nconst styles = theme => ({\r\n    padd: {\r\n        paddingTop: '70px !important',\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n          backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginRight: theme.spacing.unit * 2,\r\n        marginLeft: theme.spacing.unit * 2,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n          marginLeft: theme.spacing.unit * 3,\r\n          width: 'auto',\r\n        },\r\n      },\r\n      searchIcon: {\r\n        width: theme.spacing.unit * 9,\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      inputRoot: {\r\n        color: 'white',\r\n        width: '100%',\r\n      },\r\n      inputInput: {\r\n        paddingTop: theme.spacing.unit,\r\n        paddingRight: theme.spacing.unit,\r\n        paddingBottom: theme.spacing.unit,\r\n        paddingLeft: theme.spacing.unit * 10,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('md')]: {\r\n          width: 200,\r\n        },\r\n      },\r\n      modalContent: {\r\n        backgroundColor: '#3f51b5',          \r\n      }\r\n});\r\nclass Auth extends React.Component  {\r\n\r\n  state = {\r\n    controls: {\r\n        email: {\r\n            elementType: 'input',\r\n            value: '',\r\n            validation: {\r\n                required: true,\r\n                isEmail: true\r\n            },\r\n            valid: false,\r\n            touched: false\r\n        },\r\n        password: {\r\n            elementType: 'input',\r\n            value: '',\r\n            validation: {\r\n                required: true,\r\n                minLength: 6\r\n            },\r\n            valid: false,\r\n            touched: false\r\n        }\r\n    },\r\n    isSignup: true,\r\n    modal: false\r\n}\r\n\r\ncomponentDidMount() {\r\n    if (!this.props.requestDelivery && this.props.authRedirectPath !== '/') {\r\n        this.props.onSetAuthRedirectpath()\r\n    }\r\n}\r\n\r\ncheckValidity ( value, rules ) {\r\n    let isValid = true;\r\n    if ( !rules ) {\r\n        return true;\r\n    }\r\n\r\n    if ( rules.required ) {\r\n        isValid = value.trim() !== '' && isValid;\r\n    }\r\n\r\n    if ( rules.minLength ) {\r\n        isValid = value.length >= rules.minLength && isValid\r\n    }\r\n\r\n    if ( rules.maxLength ) {\r\n        isValid = value.length <= rules.maxLength && isValid\r\n    }\r\n\r\n    if ( rules.isEmail ) {\r\n        const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n        isValid = pattern.test( value ) && isValid\r\n    }\r\n\r\n    if ( rules.isNumeric ) {\r\n        const pattern = /^\\d+$/;\r\n        isValid = pattern.test( value ) && isValid\r\n    }\r\n\r\n    return isValid;\r\n}\r\n\r\ninputChangedHandler = ( event, controlName ) => {\r\n    const updatedControls = {\r\n        ...this.state.controls,\r\n        [controlName]: {\r\n            ...this.state.controls[controlName],\r\n            value: event.target.value,\r\n            valid: this.checkValidity( event.target.value, this.state.controls[controlName].validation ),\r\n            touched: true\r\n        }\r\n    };\r\n    this.setState( { controls: updatedControls } );\r\n}\r\n\r\nsubmitHandler = ( event ) => {\r\n    event.preventDefault();\r\n    this.props.onAuth( this.state.controls.email.value, this.state.controls.password.value, this.state.isSignup );\r\n}\r\n\r\nswitchAuthModeHandler = () => {\r\n    this.setState(prevState => {\r\n        return {isSignup: !prevState.isSignup};\r\n    });\r\n}\r\n\r\n  toggle = () => {\r\n    this.setState({\r\n      modal: !this.state.modal\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    let form = (\r\n        <div>\r\n            <div className={classes.search}>\r\n                <div className={classes.searchIcon}>\r\n                    <EmailIcon style={{color: 'white'}} />\r\n                </div>\r\n                <Input\r\n                    placeholder=\"Email\"\r\n                    value={this.state.controls.email.value}\r\n                    //invalid={!this.state.controls.email.valid}\r\n                    shoulvalidate={this.state.controls.email.validation}\r\n                    //touched={this.state.controls.email.touched}\r\n                    onChange={( event ) => this.inputChangedHandler( event, 'email' )} \r\n                    classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                    }}\r\n                />\r\n            </div>\r\n            <div className={classes.search} style={{marginTop: '10px'}}>\r\n                <div className={classes.searchIcon}>\r\n                    <LockIcon style={{color: 'white'}}/>\r\n                </div>\r\n                <Input \r\n                    placeholder=\"Password\"\r\n                    value={this.state.controls.password.value}\r\n                    //invalid={!this.state.controls.password.valid}\r\n                    shouldvalidate={this.state.controls.password.validation}\r\n                    //touched={this.state.controls.password.touched}\r\n                    onChange={( event ) => this.inputChangedHandler( event, 'password' )} \r\n                    classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                    }}\r\n                />\r\n            </div>\r\n        </div>          \r\n    );\r\n    // if (this.props.loading) {\r\n    //     form = <Spinner />\r\n    // }\r\n\r\n    let errorMessage = null;\r\n\r\n    if (this.props.error) {\r\n        errorMessage = (\r\n            <p>{this.props.error.message}</p>\r\n        );\r\n    }\r\n    let authRedirect = null;\r\n    if (this.props.isAuthenticated) {\r\n        authRedirect = <Redirect to={this.props.authRedirectPath}/>\r\n    }\r\n    return(\r\n      <Container className=\"d-flex justify-content-center\" style={{paddingTop: '250px', width: '100vw', height: '100vh', backgroundImage: `url(require('../assets/images/AuthBackground.png')) !important`}}>\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <Button color=\"info\" onClick={this.toggle}>Get Started</Button>\r\n            <div>\r\n                <Modal  className={classes.padd + ' cascading-modal'} isOpen={this.state.modal} toggle={this.toggle}  >\r\n                <div className=\"modal-header primary-color white-text\" >\r\n                    <h4 className=\"title\">\r\n                    <Fa /> {this.props.error ? errorMessage : 'Welcome!'} </h4>\r\n                    <button type=\"button\" className=\"close\" onClick={this.toggle}>\r\n                    <span aria-hidden=\"true\">×</span>\r\n                    </button>\r\n                </div>\r\n                {authRedirect}\r\n                <ModalBody className={classes.modalContent}>\r\n                    <form>\r\n                         {form}\r\n                         <Button color=\"secondary\" onClick={this.submitHandler}>Submit</Button>{' '}\r\n                    </form>\r\n                </ModalBody>\r\n                <ModalFooter className={classes.modalContent} style={{display: 'inline-table'}}>\r\n                    <Button color=\"secondary\" onClick={this.toggle}>Close</Button>{' '}\r\n                    <Button color=\"primary\"\r\n                    onClick={this.switchAuthModeHandler}>\r\n                    {this.state.isSignup ? 'Log In' : 'Sign Up'}</Button>\r\n                </ModalFooter>\r\n                </Modal>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n};\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loading: state.auth.loading,\r\n        error: state.auth.error,\r\n        isAuthenticated: state.auth.token !== null,\r\n        // requestDelivery: state.requestBuilder.requesting,\r\n        authRedirectPath: state.auth.authRedirectPath\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onAuth: ( email, password, isSignup ) => dispatch( actions.auth( email, password, isSignup ) ),\r\n        onSetAuthRedirectpath: () => dispatch(actions.setAuthRedirectPath('/trending'))\r\n    };\r\n};\r\n\r\nexport default connect( mapStateToProps, mapDispatchToProps )( withStyles(styles)(Auth) );\r\n"]},"metadata":{},"sourceType":"module"}